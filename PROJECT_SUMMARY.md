# 통찰방 커뮤니티 플랫폼 - 프로젝트 요약

## 📋 프로젝트 개요
250명 규모의 '통찰방' 커뮤니티를 위한 투표 및 오프라인 모임 웹 애플리케이션입니다.

## 🎯 핵심 기능

### 1. 베스트 글 투표 시스템
- 2주마다 자동으로 새로운 투표 기간 생성
- 회원들이 통찰력 있는 글을 추천
- 중복 투표 가능 (같은 글에 여러 번 투표)
- 실시간 투표 현황 표시
- 관리자 검토 후 결과 공개

### 2. 오프라인 모임 시스템
- 회원 누구나 모임 생성 (장소, 시간, 인원, 목적 설정)
- 커피 또는 술 모임 선택
- 참가 신청 시 자동으로 익명 채팅방 입장
- 익명 이름 자동 부여 ("참가자1", "참가자2")
- Supabase Realtime을 활용한 실시간 채팅
- D-1일 기준 미달 시 자동 취소 기능

### 3. 인증 시스템
- 초대 코드 기반 회원가입
- 카카오톡 닉네임으로 중복 가입 방지
- bcrypt 비밀번호 해싱
- 관리자/일반 회원 역할 구분

### 4. 관리자 대시보드
- 회원 관리 (활성화/비활성화)
- 투표 기간 생성 및 관리
- 초대 코드 생성 및 관리
- 커뮤니티 통계 조회

## 🛠 기술 스택

### Frontend
- **React 18.3** - UI 라이브러리
- **Vite** - 빌드 도구
- **React Router 6** - 라우팅
- **Tailwind CSS** - 스타일링
- **Zustand** - 상태 관리
- **date-fns** - 날짜 처리

### Backend & Database
- **Supabase** - BaaS (Backend as a Service)
  - PostgreSQL 데이터베이스
  - Row Level Security (RLS)
  - Realtime 구독
  - Authentication

### Deployment
- **Vercel** - 프론트엔드 호스팅
- **Supabase Cloud** - 데이터베이스 호스팅

## 📁 프로젝트 구조

```
tongchalban-community/
├── src/
│   ├── components/        # 재사용 가능한 컴포넌트
│   │   ├── common/        # 공통 UI 컴포넌트
│   │   ├── auth/          # 인증 컴포넌트
│   │   ├── voting/        # 투표 컴포넌트
│   │   ├── meetings/      # 모임 컴포넌트
│   │   └── admin/         # 관리자 컴포넌트
│   ├── pages/             # 페이지 컴포넌트
│   │   ├── auth/          # 로그인/회원가입
│   │   ├── voting/        # 투표 페이지
│   │   ├── meetings/      # 모임 페이지
│   │   └── admin/         # 관리자 페이지
│   ├── utils/             # 유틸리티 함수
│   ├── lib/               # 외부 라이브러리 설정
│   ├── store/             # 전역 상태 관리
│   └── hooks/             # 커스텀 React 훅
├── supabase/
│   └── migrations/        # 데이터베이스 마이그레이션
└── public/                # 정적 파일
```

## 🗄 데이터베이스 스키마

### 주요 테이블
1. **users** - 사용자 정보
2. **voting_periods** - 투표 기간
3. **posts_nominations** - 추천된 글
4. **votes** - 투표 기록
5. **post_comments** - 글 댓글
6. **offline_meetings** - 오프라인 모임
7. **meeting_participants** - 모임 참가자
8. **meeting_chats** - 익명 채팅
9. **invitation_codes** - 초대 코드

### 보안
- Row Level Security (RLS) 모든 테이블에 적용
- 사용자별 데이터 접근 제어
- 관리자 권한 분리

## 🚀 시작하기

### 1. 의존성 설치
```bash
npm install
```

### 2. 환경 변수 설정
```bash
cp .env.example .env
# .env 파일에 Supabase 정보 입력
```

### 3. Supabase 마이그레이션
```bash
supabase db push
```

### 4. 개발 서버 실행
```bash
npm run dev
```

### 5. 빌드
```bash
npm run build
```

## 📝 주요 페이지

### 공개 페이지
- `/login` - 로그인
- `/signup` - 회원가입

### 회원 페이지
- `/` - 메인 대시보드
- `/vote` - 투표 페이지
- `/vote/nominate` - 글 추천
- `/meetings` - 모임 목록
- `/meetings/create` - 모임 생성
- `/meetings/:id` - 모임 상세 + 익명 채팅
- `/profile` - 프로필

### 관리자 페이지
- `/admin` - 관리자 대시보드
- `/admin/votes` - 투표 관리
- `/admin/users` - 회원 관리
- `/admin/invites` - 초대 코드 관리

## 🔐 보안 기능

1. **비밀번호 해싱** - bcrypt 사용
2. **Row Level Security** - Supabase RLS 정책 적용
3. **SQL Injection 방지** - Supabase 쿼리 빌더 사용
4. **XSS 방지** - React의 자동 이스케이핑
5. **인증 토큰** - Supabase JWT 인증
6. **환경 변수** - 민감 정보 분리

## 📊 주요 기능 흐름

### 투표 프로세스
1. 관리자가 2주 단위 투표 기간 생성
2. 회원들이 통찰력 있는 글 추천
3. 회원들이 추천된 글에 투표 (중복 가능)
4. 투표 종료 후 관리자 검토
5. 결과 공개

### 모임 프로세스
1. 회원이 모임 생성 (장소, 시간, 인원, 목적)
2. 다른 회원들이 참가 신청
3. 참가 시 익명 이름 자동 부여
4. 익명 채팅방에서 소통
5. 모임 당일 오프라인 만남
6. 취소 시 사유 입력 필수

## 🎨 UI/UX 특징

- **데스크톱 전용** - 1280px 고정 너비
- **심플한 디자인** - 직관적인 인터페이스
- **한국어 인터페이스** - 완전한 한글화
- **실시간 업데이트** - 투표 현황 및 채팅
- **카드 기반 레이아웃** - 모던한 디자인

## 📈 확장 가능성

### 향후 추가 가능한 기능
1. 모바일 반응형 디자인
2. 푸시 알림
3. 이메일 인증
4. 소셜 로그인 (카카오, 구글)
5. 글 검색 기능
6. 댓글 대댓글
7. 파일 첨부
8. 프로필 이미지
9. 뱃지 시스템
10. 활동 포인트

## 🐛 알려진 제한사항

1. 모바일 미지원 (데스크톱 전용)
2. 다크모드 미지원
3. 이메일 인증 없음
4. 파일 업로드 미지원
5. 검색 기능 없음

## 📚 참고 문서

- [배포 가이드](DEPLOYMENT.md)
- [개발 가이드](DEVELOPMENT.md)
- [README](README.md)

## 🤝 기여

이 프로젝트는 통찰방 커뮤니티를 위한 맞춤형 솔루션입니다.
버그 리포트나 기능 제안은 이슈로 남겨주세요.

## 📄 라이선스

이 프로젝트는 MIT 라이선스를 따릅니다.

---

**개발 완료일**: 2024년 10월 15일
**버전**: 1.0.0 (MVP)
**개발자**: Claude Code
